<%
@var = current_user
# assumming if user has edit on one protocol, can have button , exclude the -1 scan_procedures 
# apply limit protocol  on create , edit in create form  
edit_count =@var.edit_low_scan_procedure_array.split(' ').length 
edit_count = edit_count -1 
%>
<h1>Editing participant <%= @participant.id %></h1>

<%= form_for(@participant) do |f| %>
  <%= f.error_messages %>
  <p>
    <%= f.label :date_of_birth %><br />
    <%= f.date_select :dob, :start_year => Time.now.year - 100,
	    :end_year => Time.now.year  %><br />
  </p>
  <p>
    <%= f.label :gender %><br />
    <%= f.select(:gender, [['Male',1],['Female',2]]) %>
  </p>
  <p>
    <%= f.label :wrap_number %><br />
    <%= f.text_field :wrapnum %>
  </p>
  <p>
    <%= f.label :reggieid %><br />
    <%= f.text_field :reggieid %>
  </p>
  <p>
    <%= f.label :years_of_education %><br />
    <%= f.select(:ed_years, (1..20).to_a) %>
  </p>
  <!-- <p>
    <%#= f.label :apoe_allele_1 %><br />
    <%#= f.select(:apoe_e1, [['n/a',0],['e3',3],['e4',4]]) %>
  </p>
  <p>
    <%#= f.label :apoe_allele_2 %><br />
    <%#= f.select(:apoe_e2, [['n/a',0],['e3',3],['e4',4]]) %>
  </p>
  <p>
    <%#= f.label :apoe_processor %><br />
    <%#= f.text_field :apoe_processor %>
  </p> -->
  <p>
    <%= f.label :notes %><br />
    <%= f.text_area :note %>
  </p>
  <% if edit_count > 0 %>
  <p>
    <%= f.submit "Update" %>
  </p>
  <% end %>
  
<% end %>

<%= link_to 'Show', @participant %> |
<%= link_to 'Back', participants_path %>
